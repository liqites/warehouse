function show_handle_dialog(){document.getElementById("handle-dialog-modal").style.display="block",document.getElementById("dialog-overlay").style.display="block"}function hide_handle_dialog(){document.getElementById("handle-dialog-modal").style.display="none",document.getElementById("dialog-overlay").style.display="none"}function data_upload(e,t,n){var a=!0,l=/(\.|\/)(josn|csv|tff|xls|xlsx)$/i;null!=t&&(l=0!=t?new RegExp("(.|/)("+t+")$","i"):null),$(e).fileupload({singleFileUploads:!1,acceptFileTypes:/(\.|\/)(json|csv|tff|xls|xlsx)$/i,dataType:"json",change:function(t,n){a=!0,$(e+"-preview").html(""),$.each(n.files,function(t,n){var d="\u4e0a\u4f20\u4e2d ... ...";if(l){if(!l.test(n.name))return d="\u683c\u5f0f\u9519\u8bef",alert(d),void(a=!1);show_handle_dialog()}$(e+"-preview").show().append("<span>\u6587\u4ef6\uff1a"+n.name+"</span><br/><span info>\u5904\u7406\u4e2d....</span>")})},add:function(e,t){a&&null!=t.submit&&t.submit()},beforeSend:function(e){$("#partrel_update").attr("checked")&&e.setRequestHeader("CZ-partrel-update",!0),$("#strategy_update").attr("checked")&&e.setRequestHeader("CZ-strategy-update",!0),e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},success:function(t){n?n(t):(hide_handle_dialog(),$(e+"-preview > span[info]").html("\u5904\u7406\uff1a"+t.content))},done:function(){}})}